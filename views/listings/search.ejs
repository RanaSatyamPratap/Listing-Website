<% layout("/layouts/boilerplate.ejs") %>

<style>
    
/* cards */
.listing-card{
    border: none !important;
    margin-bottom: 2rem;
}

.card-img-top{
    border-radius: 1rem !important;
    width: 100% !important;
    object-fit: cover !important;
}

.card.body{
    padding: 0 !important;
}
.card-text p {
    font-weight: 400;
}

.listing-links{
    text-decoration: none;
}

/* card effect */
.card-img-overlay{
    opacity: 0;
}
.card-img-overlay:hover{
    opacity: 0.2;
    background-color: white;
}

    body {
  font-family: 'Nunito', sans-serif;
}
  .search-result {
      margin-top: 2rem;
  }
  .card-img-top{
  border-radius: 1rem !important;
  width: 100% !important;
  object-fit: cover !important;
}
  .search-result img {
      height: 20rem;
      
      object-fit: cover !important;
  }
  .search-result .card-body {
      text-align: center;
  }
  .search-result .card-text {
      margin-top: 1rem;
  }
  .navbar{
    height: 5rem;
    background-color: white;
}

.fa-compass{
    color: #fe424d;
    font-size: 2rem;
}

.nav-link{
    color: #222222 !important;
}

.f-info-links a{
    text-decoration: none;
    color: #222222;

}
.f-info-links a:hover{
    text-decoration: underline;
}
.f-info-links, 
.f-info-socials,
.f-info-brand{
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.f-info-socials{
    width: 100%;
    font-size: 1.2rem;
    margin-right: 2rem;
}

.f-info-socials i{
    margin-right: 1rem;
    font-size: 1rem;
}

.f-info{
    text-align: center;
    display: flex;
    background-color: #ebebeb;
    height: 8rem;
    flex-wrap: wrap;
    justify-content: center;
    align-items: space-evenly;
}

.listing-links{
    text-decoration: none;
}
.nav-link{
    color: #222222 !important;
}

.f-info-links a{
    text-decoration: none;
    color: #222222;

}
.f-info-links a:hover{
    text-decoration: underline;
}
.f-info-links, 
.f-info-socials,
.f-info-brand{
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.f-info-socials{
    width: 100%;
    font-size: 1.2rem;
    margin-right: 2rem;
}

.f-info-socials i{
    margin-right: 1rem;
    font-size: 1rem;
}

.f-info{
    text-align: center;
    display: flex;
    background-color: #ebebeb;
    height: 8rem;
    flex-wrap: wrap;
    justify-content: center;
    align-items: space-evenly;
}
/* paragraph */
p.no-listings {
  color: #fe424d; 
  padding: 10px 20px 10px 35px; 
  background-color: #f5f5f5; 
  border: 1px solid #fff; 
  border-radius: 5px; 
  text-align: center;
  font-size: 25px;
}



</style>


<div class="container">
    <h2>Search Results</h2>
    <% if (allListings.length > 0) { %>
        <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3">
            <% for(let listing of allListings) { %>
                <a href="/listings/<%= listing._id %>" class="listing-links">
                    <div class="card col search-result">
                        <img 
                        src="<%= listing.image.url %>" 
                        class="card-img-top"
                        alt="listing_image" 
                        style="height: 20rem;"
                        />
                        <div class="card-body">
                            <p class="card-text">
                                <b><%= listing.title %></b><br> 
                                &#8377; <%= listing.price.toLocaleString("en-IN") %>/ night
                            </p>
                        </div>
                    </div>
                </a>
            <% } %>
        </div>
    <% } else { %>
        <p class="no-listings">No listings found for your search.<b><i class="fa-solid fa-bug"></i></b></p>
    <% } %>
</div>
